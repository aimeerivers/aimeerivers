!!!
<!--[if lt IE 7 ]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

%head
  %meta(charset="utf-8")
  %title aimee daniells, photography
  %meta(content="width=device-width" name="viewport")
  %meta(content="IE=edge,chrome=1" http-equiv="X-UA-Compatible")

  %link(rel="shortcut icon" href="/favicon.ico")
  %link(rel="apple-touch-icon" href="/apple-touch-icon.png")

  %link(href="css/flexslider.css" media="screen" rel="stylesheet" type="text/css")
  %link(href="css/shared.css" media="screen" rel="stylesheet" type="text/css")
  %link(href="css/photography.css" media="screen" rel="stylesheet" type="text/css")

  %script(type="text/javascript" src="/js/libs/modernizr-1.7.min.js")

%body
  %header
    %h1 aimee daniells, photography

    %p
      I love to take photographs. Here are some of my favourites. More can be found on my
      %a(href="http://www.flickr.com/photos/sermoa/") Flickr stream.
      %br
      Looking for my main portfolio? Here is my
      %a(href="/") web development work.

  -@photos = @unsorted_photos.sort_by{|p| p[:height]}
  -by_aspect_ratio = @unsorted_photos.sort_by{|p| (1.363 - p[:aspect_ratio]).abs}
  -@photos[3] = @unsorted_photos.delete(by_aspect_ratio[0])
  -by_aspect_ratio = @unsorted_photos.sort_by{|p| (1.84 - p[:aspect_ratio]).abs}
  -@photos[7] = @unsorted_photos.delete(by_aspect_ratio[0])
  -by_aspect_ratio = @unsorted_photos.sort_by{|p| (0.441 - p[:aspect_ratio]).abs}
  -@photos[10] = @unsorted_photos.delete(by_aspect_ratio[0])
  -@photos[14] = @unsorted_photos.delete(by_aspect_ratio[1])
  -by_aspect_ratio = @unsorted_photos.sort_by{|p| (0.902 - p[:aspect_ratio]).abs}
  -@photos[0] = @unsorted_photos.delete(by_aspect_ratio[0])
  -@photos[6] = @unsorted_photos.delete(by_aspect_ratio[1])
  -@photos[11] = @unsorted_photos.delete(by_aspect_ratio[2])
  -@photos[16] = @unsorted_photos.delete(by_aspect_ratio[3])
  -by_aspect_ratio = @unsorted_photos.sort_by{|p| (0.9 - p[:aspect_ratio]).abs}
  -@photos[1] = @unsorted_photos.delete(by_aspect_ratio[0])
  -@photos[2] = @unsorted_photos.delete(by_aspect_ratio[1])
  -@photos[4] = @unsorted_photos.delete(by_aspect_ratio[2])
  -@photos[5] = @unsorted_photos.delete(by_aspect_ratio[3])
  -@photos[8] = @unsorted_photos.delete(by_aspect_ratio[4])
  -@photos[9] = @unsorted_photos.delete(by_aspect_ratio[5])
  -@photos[15] = @unsorted_photos.delete(by_aspect_ratio[6])
  -@photos[12] = @unsorted_photos.delete(by_aspect_ratio[7])
  -@photos[13] = @unsorted_photos.delete(by_aspect_ratio[8])

  #content
    .portfolio
      .card
        - photo = @photos[0]
        .big(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:big]};")
        - photo = @photos[1]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")
        - photo = @photos[2]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")

      .card
        - photo = @photos[3]
        .extrabig(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:extrabig]};")

      .card
        - photo = @photos[4]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")
        - photo = @photos[5]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")
        - photo = @photos[6]
        .big(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:big]};")

      .card
        - photo = @photos[7]
        .tall(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:tall]};")
        - photo = @photos[8]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")
        - photo = @photos[9]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")
        - photo = @photos[10]
        .wide(class="#{photo[:css_class]}" style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:wide]};")

      .card
        - photo = @photos[11]
        .big(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:big]};")
        - photo = @photos[12]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")
        - photo = @photos[13]
        .small(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:small]};")

      .card
        - photo = @photos[14]
        .wide(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:wide]};")
        - photo = @photos[15]
        .big(style="background-image: url(#{photo[:image]}); background-size: #{photo[:percentages][:big]};")

    .clear(style="clear:left;")


  %script(src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js")
  :javascript
    window.jQuery || document.write('<script src="/js/libs/jquery-1.7.2.min.js"><\/script>')

  %script(src="/js/libs/jquery.flexslider-min.js")
  %script(src="/js/libs/css3-mediaqueries.js")
  %script(src="/js/photography.js")

  :javascript
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-28543596-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
